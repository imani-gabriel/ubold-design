var c=class{constructor(o,t){this.dbName=o,this.storeName=t}openDB(){return new Promise((o,t)=>{let e=indexedDB.open(this.dbName,1);e.onupgradeneeded=r=>{let a=r.target.result;a.objectStoreNames.contains(this.storeName)||a.createObjectStore(this.storeName,{keyPath:"id",autoIncrement:!0})},e.onsuccess=r=>{o(r.target.result)},e.onerror=r=>{t(new Error("Erreur lors de l'ouverture de la base de donn\xE9es: "+r.target.error))}})}addItem(o){return new Promise((t,e)=>{this.openDB().then(r=>{let n=r.transaction([this.storeName],"readwrite").objectStore(this.storeName).add(o);n.onsuccess=()=>{t(n.result)},n.onerror=()=>{e(new Error("Erreur lors de l'ajout des donn\xE9es: "+n.error))}}).catch(r=>e(r))})}getAllItems(){return new Promise((o,t)=>{this.openDB().then(e=>{let s=e.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();s.onsuccess=()=>{o(s.result)},s.onerror=()=>{t(new Error("Erreur lors de la r\xE9cup\xE9ration des donn\xE9es: "+s.error))}}).catch(e=>t(e))})}deleteItem(o){return new Promise((t,e)=>{this.openDB().then(r=>{let n=r.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(o);n.onsuccess=()=>{t()},n.onerror=()=>{e(new Error("Erreur lors de la suppression des donn\xE9es: "+n.error))}}).catch(r=>e(r))})}getCount(){return new Promise((o,t)=>{this.openDB().then(e=>{let s=e.transaction([this.storeName],"readonly").objectStore(this.storeName).count();s.onsuccess=()=>{o(s.result)},s.onerror=()=>{t(new Error("Erreur lors du comptage des donn\xE9es: "+s.error))}}).catch(e=>t(e))})}},d=c;typeof window!="undefined"&&(window.IndexedDBEngine=c);export{d as a};
//# sourceMappingURL=chunk-DQCZ5SY2.js.map
